var scrolling=!1,fullsize=!1;function openModal(){var a=document.getElementById('overlay');a.classList.add('show'),$('body').css({overflow:'hidden'})}function closeModal(){var a=document.getElementById('overlay');a.classList.remove('show'),$('body').css({overflow:'auto'})}function scrollToSection(a,b){var c=document.getElementById(a),d=document.getElementById(b);this.scrolling=!0;var e=c.offsetTop-50;window.scroll({top:e,behavior:'smooth'});for(var f,g=2;5>=g;g++)f=document.getElementById('nav-'+g),f.classList.remove('active');b&&(d.classList.add('active'),setTimeout(function(){this.scrolling=!1},1100))}function setActiveNav(){var a=window.scrollY+50,b=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName('body')[0].clientHeight,c=document.getElementById('nav-2'),d=document.getElementById('nav-3'),e=document.getElementById('nav-4'),f=document.getElementById('nav-5'),g=document.getElementById('section-1').offsetHeight,h=document.getElementById('section-2').offsetHeight,i=document.getElementById('section-3').offsetHeight,j=document.getElementById('section-4').offsetHeight,k=document.getElementById('section-5').offsetHeight;this.scrolling||(window.innerHeight+a>=document.body.offsetHeight?(c.classList.remove('active'),d.classList.remove('active'),e.classList.remove('active'),f.classList.add('active')):a>=g+h+i?(c.classList.remove('active'),d.classList.remove('active'),f.classList.remove('active'),e.classList.add('active')):a>=g+h?(c.classList.remove('active'),e.classList.remove('active'),f.classList.remove('active'),d.classList.add('active')):a>=g?(d.classList.remove('active'),e.classList.remove('active'),f.classList.remove('active'),c.classList.add('active')):(c.classList.remove('active'),d.classList.remove('active'),e.classList.remove('active'),f.classList.remove('active')))}var setBgScroll=function(a){var b=$(window),c=b.height(),d=b.scrollTop()+50,e=a.attr('id'),f=a.offset().top,g=f+.25*c;if(d>g&&d<f+c){var h='section-4-a'==e?50:0,i='0px '+(h-.25*(d-g))+'px';a.css({"background-position":i})}else{var h='section-4-a'==e?'50px':'0px';a.css({"background-position":`0px ${h}`})}},fadeOnScrollOut=function(a,b,c){// set init equal to initial value of opacity of the element;
var d=$(window),e=d.scrollTop()+50,f=a.offset().top,g=f+a.height()*c,h=f+a.height();if(e>f&&e<g){var i=`${(1-(e-f)/(g-f))*b}`;a.css({opacity:i})}else e>g?a.css({opacity:0}):a.css({opacity:b})};function setLogoText(){fullsize?$('#logo-text').text('People EyeCue'):$('#logo-text').text('')}function setFullSize(){var a=$('.mobile-indicator').is(':visible');return!a}$(window).resize(function(){fullsize=setFullSize(),setLogoText()}),$(window).scroll(function(){$('.section-2-textbox').each(function(){var a=$(this);fadeOnScrollOut(a,1,1)}),fullsize&&$('.parallax').each(function(){var a=$(this);setBgScroll(a)})});function formSubmissionOnSuccess(){}function formSubmissionOnFail(a){var b=$('.form-submit-container');b.text(''),b.append(`<span class="submit-status-message">There was a problem submitting your request. Please refresh your browser and try again. Error Code: <span class="error">${a.status}</span> Error Message: <span class="error">${a.responseText}</span></span>`)}$(document).ready(function(){// set delay equal to the duration of the element's animation
setTimeout(function(){$(window).scroll(function(){fadeOnScrollOut($('.section-1-card-wrapper'),.95,.4)})},1500),$('#contact-form').submit(function(a){a.preventDefault();var b,c=window.location.href;if(c.includes('localhost'))b=`http://localhost:8080/contact`;else if(c.includes('eyecue'))b=`https://www.eyecuelab.com/contact`;else return void console.warn('Error at people.js in form submission: window.location.href did not match either "localhost" nor "eyecue". Aborting submission.');var d=$('input[name="email"]').val(),e=$('select[name="HRIS"]').val(),f=$('select[name="company-size"]').val();$('.form-container').html('<div class=\'status-container\'></div>');for(let b=1;3>=b;b++)$('.status-container').append(`<span class="pending-item pending-item-${b}">.</span>`);$.ajax({url:b,dataType:'json',method:'POST',contentType:'application/json',data:JSON.stringify({email:d,hris:e,size:f})}).done(a=>{console.log(a),$('.status-container').text(''),$('.status-container').append(a.responseText)}).fail(a=>{var b=a.responseJSON;console.warn(b.message),$('.status-container').text(''),$('.status-container').append(`<p>There was an error submitting your request. Please refresh your browser and try again. Error code: <span class="error">${b.code}</span> Error message: <span class="error">${b.message}</span></p>`)})})}),window.addEventListener('scroll',function(){setActiveNav()}),window.addEventListener('resize',function(){setActiveNav()}),window.onload=function(){setActiveNav(),fullsize=setFullSize(),setLogoText()};